<!DOCTYPE html>
<html ng-app="App" ng-controller="GigaSpaceBrowserController">
<head>
    <title>logb {{ config.internal.appVersion }}</title>
    <script type="text/javascript" src="js/log.js"></script>
    <script type="text/javascript" src="js/angular.min.js"></script>
    <script type="text/javascript" src="js/engine.js"></script>

    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<div class="modal" ng-if="view == 'inactive'">
    <div style="display: table-cell; vertical-align: middle; width: 100%; position: static; text-align: center;">
        <div style="margin-left: auto; margin-right: auto;">
            <span>
                Sir, logs are absolutely cold. Heat up?<br>
                <a href="javascript:void(0);" ng-click="backToActive()">Yes, please.</a>
            </span>
        </div>
    </div>
</div>

<div class="modal" ng-if="view == 'start'">
    <div style="display: table-cell; vertical-align: middle; width: 100%; position: static; text-align: center;">
        <div style="margin-left: auto; margin-right: auto;">
            <ul style="list-style: none; padding: 0;">
                <li>Logs, Sir</li>
                <li>&nbsp;</li>
                <li ng-repeat="app in apps | orderBy : 'name'">
                    <a ng-click="selectApp(app)"
                       ng-class="{'selected' : app === selectedApp}"
                       href="javascript:void(0);">{{
                        app.name }}</a></li>
            </ul>
        </div>
    </div>
</div>

<div ng-show="!view && selectedApp && !selectedLog">
    <div id="logs-header">
        <span ng-repeat="app in apps | orderBy : 'name'">
            <a ng-click="selectApp(app)" ng-class="{'selected' : app === selectedApp}" href="javascript:void(0);">{{
                app.name }}</a>
        </span>

        <p></p>

        <input type="text" placeholder="filter keywords" ng-model="filter" style="width: 90%">
    </div>

    <table ng-show="logs" border="0" cellspacing="5" style="margin-top: 5em; width: 100%; padding: 1em;">
        <tr>
            <th>Host</th>
            <th>File</th>
            <th>Size</th>
            <th>Changed</th>
        </tr>
        <tr ng-repeat="log in logs | orderBy : 'lastModified' : true | filter : filter">
            <td align="center">{{ ::log.host ? log.host : "N/A" }}</td>
            <td><a href="javascript:void(0);" ng-click="selectLog(log)">{{ ::log.file }}</a></td>
            <td align="right">{{ ::log.length | humanSize }}</td>
            <td align="center">{{ ::log.lastModified | humanDate }}</td>
        </tr>
        <tr ng-show="!logs.length">
            <td colspan="3">No logs</td>
        </tr>
    </table>
</div>

<div ng-show="!view" ng-if="selectedLog" style="padding-top: 2em;">
    <div style="position: fixed; top: 0; left: 0; width: 100%; padding: 1em; background-color: white;">
        <a href="javascript:void(0);" ng-click="showLogs()">Back to Logs</a>

        {{ selectedLog.host }}
        {{ selectedLog.file }}
        {{ selectedLog.length | humanSize }}
        {{ selectedLog.lastModified | humanDate }}
    </div>

    <div ng-show="log.start > 0" style="padding: 1em; padding-bottom: 0;">
        <a href="javascript:void(0);" ng-click="showPrevious();">Show Previous</a>
    </div>

    <pre id="log" style="font-family: courier new, courier, monospace; padding: 1em;"></pre>
</div>

</body>
</html>

